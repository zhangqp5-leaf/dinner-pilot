import{o as e,c as t,w as a,i as s,p as o,b as n,t as l,I as c,z as i}from"./index-86188748.js";import{a as r}from"./const.4b49faa0.js";import{_ as d}from"./_plugin-vue_export-helper.1b428a4d.js";const u=d({data(){return{date:this.getDate({format:!0}),oldVacancies:0,newVacancies:0}},computed:{startDate(){return this.getDate("")},endDate(){return this.getDate("end")}},methods:{bindDateChange:function(e){console.log(e.detail.value),this.date=e.detail.value,this.getResult(e.detail.value)},getResult(e){const t=this.getDate(""),[a,s,o]=t.split("-"),[n,l,c]=e.split("-"),i=12*(n-a)+(l-s);let d=0;if(0===i)for(const u of Object.keys(r[l]))u>o&&u<=c&&(d+=r[l][u]);else if(1===i){for(const e of Object.keys(r[s]))e>o&&(d+=r[s][e]);for(const e of Object.keys(r[l]))e<=c&&(d+=r[l][e])}else{for(const t of Object.keys(r[s]))t>o&&(d+=r[s][t]);for(const t of Object.keys(r[l]))t<=c&&(d+=r[l][t]);const e=[];for(let t=1;t<i;t++){const a=+s+t;e.push(a>9?a:"0"+a)}for(console.log(e);e.length>=12;)d+=this.getSumYear(r),e.splice(-12);for(const t of e){let e=t;"number"==typeof e&&e>12&&(e="0"+e%12),d+=this.getObjSum(r[e])}}this.newVacancies=Number(this.oldVacancies)+d},getObjSum:e=>Object.values(e).reduce(((e,t)=>e+t),0),getSumYear(e){let t=0;for(const a of Object.values(e))t+=Object.values(a).reduce(((e,t)=>e+t),0);return t},getDate(e){const t=new Date;let a=t.getFullYear(),s=t.getMonth()+1,o=t.getDate();return"start"===e?a-=60:"end"===e&&(a+=20),s=s>9?s:"0"+s,o=o>9?o:"0"+o,`${a}-${s}-${o}`}}},[["render",function(r,d,u,f,m,g){const p=c,h=s,b=i;return e(),t(h,{class:"deposit-container"},{default:a((()=>[o(h,{class:"deposit-item"},{default:a((()=>[o(p,{class:"uni-input form-item-right",modelValue:m.oldVacancies,"onUpdate:modelValue":d[0]||(d[0]=e=>m.oldVacancies=e),placeholder:"输入"},null,8,["modelValue"])])),_:1}),o(h,{class:"deposit-item"},{default:a((()=>[o(b,{mode:"date",value:m.date,start:g.startDate,end:g.endDate,onChange:g.bindDateChange},{default:a((()=>[o(h,{class:"uni-input"},{default:a((()=>[n(l(m.date),1)])),_:1})])),_:1},8,["value","start","end","onChange"])])),_:1}),o(h,{class:"deposit-item"},{default:a((()=>[n(l(m.newVacancies),1)])),_:1})])),_:1})}],["__scopeId","data-v-3e685ad0"]]);export{u as default};
